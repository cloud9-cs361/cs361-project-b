'use strict';

/**
 * Use this error responder when you need to send the error status and message
 * string to the requestor, but you don't want to send the rest of the
 * properties that exist on the error object.
 *
 * @function
 *
 * @param {Object} err - An error object, likely from the Node SDK
 * @param {Object} res - Express http response
 * @param {Object} context - Describe where this error is coming from, for
 * a fallback message when the error does not contain a message.
 */
function simpleJsonErrorResponder(err, res, context) {
  return res.status(err.status || 500).json({
    error: err.userMessage || err.message || ('Unexpected error in ' + context)
  });
}

module.exports = simpleJsonErrorResponder;