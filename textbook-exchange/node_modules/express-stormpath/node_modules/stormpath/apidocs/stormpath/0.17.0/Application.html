<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Application</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Application</h1>

    




<section>

<header>
    
        <h2>Application</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Application"><span class="type-signature"></span>new Application<span class="signature">(applicationData)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This object encapsulates a Stormpath Application object, and provides methods
for working with the Application.</p>
<p>An Application resource in Stormpath contains information about any
real-world software that communicates with Stormpath via REST APIs. You
control who may log in to an application by assigning (or ‘mapping’) one or
more Directory, Group, or Organization resources (generically called Account
Stores) to an Application resource. The Accounts in these associated Account
Stores collectively form the application’s user base.</p>
<p>Typically you do not need to manually construct an Application object.
Rather, you will obtain an Application from methods such as
<a href="Client.html#getApplication">Client.getApplication()</a>.</p>
<p>For more information about the Application resource, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#application">REST API Reference: Application</a>.</p>
<p>For mor information about how authorization works, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/005_auth_n.html">Authenticating Accounts with Stormpath</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>applicationData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The raw JSON data of the Application resource, as retrieved from the Stormpath
REST API.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="InstanceResource.html">InstanceResource</a></li>
    </ul>


    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="authenticateAccount"><span class="type-signature"></span>authenticateAccount<span class="signature">(authenticationRequest, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Attempt to authenticate an account, using username/email and password.  Use
this method to assert that the supplied password is the correct password for
an account.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>authenticationRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Authentication request object, can only be used for username &amp; password
authentication.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The username, or email
address, of an <a href="Account.html">Account</a> that exists in a <a href="Directory.html">Directory</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The password for the account.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function, called with
(err, <a href="AuthenticationResult.html">authenticationResult</a>).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line293">line 293</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var authenticationRequest = {
 username: 'user@mysite.com', // can be username or email address of account
 password: 'RawPassw0rd!'
};

application.authenticateAccount(authenticationRequest, function(err, result) {
  // if successful, the result will have an account field with the successfully authenticated account:
  result.getAccount(function(err, account) {
    console.log(account);
  });
};</code></pre>



        
            

    

    <h4 class="name" id="createAccount"><span class="type-signature"></span>createAccount<span class="signature">(accountData, getResourceOptions<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Creates an <a href="Account.html">Account</a> in the application's default account store.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>accountData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The data for the new account object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>customData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"><p>Custom key/value data that you wish to store in this user's custom data
resource.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's email address.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>givenName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's first name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>middleName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's middle name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's desired password, must meet password strength requirements of the
default account store.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>surname</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's last name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    UNVERIFIED|ENABLED
                
                </td>
            

            <td class="description last"><p>Sets the status flag of the account, one of <code>ENABLED</code>, <code>DISABLED</code>,
<code>UNVERIFIED</code>.  If not specified, will default to <code>UNVERIFIED</code> if email
verification is enabled on the default account store.  Otherwise the default
is <code>ENABLED</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User's desired username.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getResourceOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#GetResourceOptions">GetResourceOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query options for the request.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line697">line 697</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var account = {
  givenName: 'Foo',
  surname: 'Bar',
  username: 'foolmeonce',
  email: 'foo@bar.com',
  password: 'Changeme1!'
};

application.createAccount(account, function(err, createdAccount) {
  console.log(createdAccount);
});</code></pre>



        
            

    

    <h4 class="name" id="createIdSiteUrl"><span class="type-signature"></span>createIdSiteUrl<span class="signature">(options)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    <p>Creates a URL which will redirect a user to your ID Site.  The URL will look
like <code>https://api.stormpath.com/v1/sso?jwtRequest=&lt;token&gt;</code>.  Once the URL
is created, you should issue a 302 redirect to this URL.  The <code>/sso</code>
endpoint will consume the request, and then redirect the user to your ID
Site application.  This entire process happens over HTTPS and all the JWTs
are signed with secret keys for security.</p>
<p>When the user returns from ID Site, you will handle the response with
<a href="Application.html#handleIdSiteCallback">Application.handleIdSiteCallback()</a>.</p>
<p>For more information, please see
<a href="http://docs.stormpath.com/guides/using-id-site/">Using Stormpath's ID Site to Host your User Management UI</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>ID Site redirect options</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callbackUri</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p><strong>REQUIRED</strong>.  The fully-qualified location where the user should be sent
after they authenticate on the ID Site application, e.g.
<code>https://www.mysite.com/dashboard</code>.  For security reasons, this url must be
registered as an authorized callbac URI in your ID Site configuration.  This
can be managed via the REAT API or the Stormpath Admin Console.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If <code>true</code>, the user will be logged out of their session and immediately
redirected to the sepcified <code>callbackUri</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>organizationNameKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p><em>Multi-tenancy option.</em></p>
<p>The organization name key to auto-fill in the
Organization field on ID Site.  This value will be fixed and the user cannot change it.  Use this if you
already know which Organization the user will be logging into.</p>
<p>If there is no organization with that name key, or the organization is not
mapped to the current Stormpath Application, an error will be returned to the
callback URI.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>showOrganizationField</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p><em>Multi-tenancy option.</em></p>
<p>If <code>true</code>, show the organization field on ID Site, so that the user must
provide the name key of the organization that they wish to log into.</p>
<p>If <code>false</code>, and <code>organizationNameKey</code> is defined, then the Organization field
will be hidden but the authentcation attempt will still be targeted at the
specified organization.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>Custom string that can be used to carry state through the request.  This
state property will be available in the JWT payload on ID Site, and in the
JWT that is provided to your callback URI.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useSubDomain</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Use the provided <code>organizationNameKey</code> as the domain prefix for the ID Site
URL. For example, if <code>organizationNameKey</code> is org-a and your ID Site URL
is <code>https://id.myapp.com</code> then the user will be redirected to
<code>https://org-a.id.myapp.com</code>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The URL to redirect the user to.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Deletes this resource from the API.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to call when the delete operation is complete.  Will be called
with the parameter (err).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="InstanceResource.html#delete">InstanceResource#delete</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_InstanceResource.js.html">resource/InstanceResource.js</a>, <a href="resource_InstanceResource.js.html#line73">line 73</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getAccount"><span class="type-signature"></span>getAccount<span class="signature">(providerAccountRequest, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Use this function to get an account from a provider directory (Google,
Facebook).  If you need to fetch a standard account object, please use one of
<a href="Client.html#getAccount">Client.getAccount(<em>href</em>)</a>,
<a href="Application.html#getAccounts">Application.getAccounts(<em>query</em>)</a>,
Directory.getAccounts(<em>query</em>), or
<a href="Client.html#getAccounts">Client.getAccounts(<em>query</em>)</a>.</p>
<p>To use this method, you need to do the following:</p>
<ul>
<li><p>Create an application with the provider, and connect it with a Stormpath
Directory.  For instructions, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/auth_n.html#how-social-authentication-works">How Social Authentication Works</a></p>
</li>
<li><p>Prompt the user to authenticate with
the provider, via your provider application (e.g. Facebook application consent screen, Google+ login)</p>
</li>
<li>Collect the access token or code that is returned after the user provides
consent to your application.</li>
</ul>
<p>Use this method any time you need to register or authenticate a user via
a third-party provider.  If the user is new, the mirroed acount object will
be created in your Stormpath Directory and the result will have a <code>created</code>
property that indicates this context.  If the user was already mirrored,
the account object is simply returned.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>providerAccountRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An object which enumerates the provider store and the access token or code
that was obtained by the provider.  Some providers use access tokens, while
others use codes.  Only specify one or the other.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>providerData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>providerId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The providerId of the directory, e.g. <code>github</code>, <code>google</code>, <code>facebook</code>,
<code>linkedin</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accessToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The access token that was obtained from the provider.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>code</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The access code that was obtained from the provider.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function to call with parameters (<code>err</code>, <a href="global.html#ProviderAccountResult">ProviderAccountResult</a>)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line593">line 593</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var providerAccountRequest = {
  providerData: {
    providerId: 'facebook',
    accessToken: 'abc1235'
  }
};

application.getAccount(providerAccountRequest, function(err, providerAccountResult) {
  if (providerAccountResult.created) {
    console.log('This user was newly created in the directory.');
  }

  console.log(providerAccountResult.account);
});</code></pre>



        
            

    

    <h4 class="name" id="getAccounts"><span class="type-signature"></span>getAccounts<span class="signature">(collectionQueryOptions, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the account's collection for this Application, which is a list of all
accounts in all account stores that are mapped to this application.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>collectionQueryOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#CollectionQueryOptions">CollectionQueryOptions</a></span>


            
            </td>

            

            

            <td class="description last"><p>Options for querying &amp; paginating the collection.  This collection
supports filter searches and the following attribute searches:
<code>createdAt</code>, <code>email</code>, <code>givenName</code>, <code>middleName</code>, <code>modifiedAt</code>, <code>surname</code>,
<code>status</code>, <code>username</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to call when then the operation is complete.  Will be called
with the parameters (err, <a href="CollectionResource.html">CollectionResource</a>).  The collection will
be a list of <a href="Account.html">Account</a> objects.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line520">line 520</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var query = {
  givenName: 'foo'
};

application.getAccounts(query, function(err, collection){
  collection.each(function(account, next){
    console.log('Found account for ' + account.givenName + ' (' + account.email + ')' );
    next();
  });
});</code></pre>



        
            

    

    <h4 class="name" id="getSamlPolicy"><span class="type-signature"></span>getSamlPolicy<span class="signature">(getResourceOptions<span class="signature-attributes">opt</span>, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the <a href="SamlPolicy.html">SamlPolicy</a> of the application.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>getResourceOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#GetResourceOptions">GetResourceOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Query options for the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function, will be called with (err, <a href="SamlPolicy.html">samlPolicy</a>).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line488">line 488</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="handleIdSiteCallback"><span class="type-signature"></span>handleIdSiteCallback<span class="signature">(responseUri, Will)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This method will parse the JWT result from an ID Site Callback, and give you
an <a href="global.html#IdSiteAuthenticationResult">IdSiteAuthenticationResult</a>, which contains the  <a href="Account.html">Account</a>
object of the account that was authenticated.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>responseUri</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The URL that the user has arrived on your site
with.  For example, <code>http://mysite.com/idSiteCallback?jwtResponse=xxx</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Will</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>be called with
(err, <a href="global.html#IdSiteAuthenticationResult">idSiteAuthenticationResult</a>).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line182">line 182</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="resendVerificationEmail"><span class="type-signature"></span>resendVerificationEmail<span class="signature">(resendVerificationEmailRequest, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Re-sends the account verification email to the specified account.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resendVerificationEmailRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>login</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The username or email address of the account that you wish to re-send the
verification email to.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accountStore</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An object that allows you to define an account store for this request.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>href</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The HREF of the account store that you wish to target, for locating the
the account object.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line408">line 408</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var resendVerificationEmailRequest = {
  login: 'foo@bar.com'
};

application.resendVerificationEmail(resendVerificationEmailRequest, function(err) {
  if(!err){
    console.log('Email re-sent to ' + resendVerificationEmailRequest.login);
  }
});</code></pre>



        
            

    

    <h4 class="name" id="resetPassword"><span class="type-signature"></span>resetPassword<span class="signature">(passwordResetToken, newPassword, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Sets a new password for the user, using the supplied password reset token.
The password reset token will be verified and the
<a href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#ref-password-policy">password strength policy</a>
of the account's directory will be enforced.</p>
<p>If this operation is successful, the password reset token will be consumed
and cannot be used again.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>passwordResetToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The password reset token that was created by <a href="Application.html#sendPasswordResetEmail">Application.sendPasswordResetEmail()</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newPassword</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The new password that the user desires.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line474">line 474</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var passwordResetToken = 'eyJraWQiOiI0Qk9aM1kyMTg0T0Q5VFJMS..'; // The token that was created by Application.sendPasswordResetEmail()

var newPassword = 'Pa@ssw0Rd!1;'; // The new password that the user desires.

application.resetPassword(passwordResetToken, newPassword, function(err){
  if (err) {
    console.log(err); // Token is invalid, or password is not strong enough.
  } else {
    console.log('Password was reset.');
  }
});</code></pre>



        
            

    

    <h4 class="name" id="save"><span class="type-signature"></span>save<span class="signature">(callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Save changes to this resource.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function to call when the save operation is complete.  Will be called
with the parameters (err,updatedResource).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="InstanceResource.html#save">InstanceResource#save</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_InstanceResource.js.html">resource/InstanceResource.js</a>, <a href="resource_InstanceResource.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="sendPasswordResetEmail"><span class="type-signature"></span>sendPasswordResetEmail<span class="signature">(passwordResetRequest, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Sends a password reset email to the account holder.  This email will contain
a link with a password reset token.  The format of the link is controlled by
the Password Policy of the <a href="Directory.html">Directory</a> that the account is in.  For
more information on the email, please see
<a href="https://docs.stormpath.com/rest/product-guide/latest/004_accnt_mgmt.html#manage-password-reset-emails">Manage Password Reset Emails</a>.</p>
<p>If you want the raw token (e.g. to manually send your own email with
the token) you can do so by working with the <a href="PasswordResetToken.html">PasswordResetToken</a>
instance that is provided to the callback.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>passwordResetRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The password reset request object.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The email address of the account that you wish to send a password reset email
to.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>accountStore</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An object that allows you to define an account store for this request.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>href</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The HREF of the account store that you wish to target, for locating the
the account object.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err, <a href="PasswordResetToken.html">passwordResetToken</a>)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line369">line 369</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var passwordResetRequest = {
  email: 'foo@bar.com'
};

application.sendPasswordResetEmail(passwordResetRequest, function(err, passwordResetToken) {
 // The token is the last part of the HREF
 console.log(passwordResetToken.href.split('/').pop());

 // The account can be retrieved by using the account href on the result
 client.getAccount(passwordResetToken.account.href, function(err, account) {
   console.log(account);
 });
});</code></pre>



        
            

    

    <h4 class="name" id="verifyPasswordResetToken"><span class="type-signature"></span>verifyPasswordResetToken<span class="signature">(passwordResetToken, callback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Verifies that the given password reset token is valid and can be used for a
password change request  (via <a href="Application.html#resetPassword">Application.resetPassword()</a>).
The token is invalid if it has expired, has already been used, or was not
issued by a Stormpath Application.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>passwordResetToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The password reset token that was created by <a href="Application.html#sendPasswordResetEmail">Application.sendPasswordResetEmail()</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Callback function, will be called with (err).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="resource_Application.js.html">resource/Application.js</a>, <a href="resource_Application.js.html#line437">line 437</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var passwordResetToken = 'eyJraWQiOiI0Qk9aM1kyMTg0T0Q5VFJMS..'; // The token that was created by Application.sendPasswordResetEmail()

application.verifyPasswordResetToken(passwordResetToken, function(err){
  if (err) {
    console.log(err); // Token is invalid, expired, or already used.
  } else {
    console.log('Token is valid.');
  }
});</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-stormpath.html">stormpath</a></li></ul><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="Application.html">Application</a></li><li><a href="AuthenticationResult.html">AuthenticationResult</a></li><li><a href="Cache.html">Cache</a></li><li><a href="CacheEntry.html">CacheEntry</a></li><li><a href="CacheManager.html">CacheManager</a></li><li><a href="CacheStats.html">CacheStats</a></li><li><a href="Client.html">Client</a></li><li><a href="CollectionResource.html">CollectionResource</a></li><li><a href="DataStore.html">DataStore</a></li><li><a href="Directory.html">Directory</a></li><li><a href="DirectoryChildResource.html">DirectoryChildResource</a></li><li><a href="InstanceResource.html">InstanceResource</a></li><li><a href="JwtAuthenticationResult.html">JwtAuthenticationResult</a></li><li><a href="MemcachedStore.html">MemcachedStore</a></li><li><a href="OAuthPasswordGrantAuthenticationResult.html">OAuthPasswordGrantAuthenticationResult</a></li><li><a href="OAuthPasswordGrantRequestAuthenticator.html">OAuthPasswordGrantRequestAuthenticator</a></li><li><a href="ObjectCallProxy.html">ObjectCallProxy</a></li><li><a href="PasswordResetToken.html">PasswordResetToken</a></li><li><a href="RedisStore.html">RedisStore</a></li><li><a href="RequestExecutor.html">RequestExecutor</a></li><li><a href="SamlPolicy.html">SamlPolicy</a></li><li><a href="SamlServiceProvider.html">SamlServiceProvider</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createResource">createResource</a></li><li><a href="global.html#defaults">defaults</a></li><li><a href="global.html#getAuthenticator">getAuthenticator</a></li><li><a href="global.html#getResource">getResource</a></li><li><a href="global.html#instantiate">instantiate</a></li><li><a href="global.html#isAssignableFrom">isAssignableFrom</a></li><li><a href="global.html#resolveArgs">resolveArgs</a></li><li><a href="global.html#valueOf">valueOf</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Feb 05 2016 11:15:58 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>